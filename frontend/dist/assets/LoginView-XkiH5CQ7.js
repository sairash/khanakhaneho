import{d as w,A as x,F as _,r as i,o as f,a as d,c as g,b as e,u as l,w as c,v as u,i as p,e as b,f as v}from"./index-703my5pb.js";const k="/assets/khanakhaneho_logo-p-qvpBOU.png",y={class:"w-screen h-screen flex flex-col justify-center"},C={class:"mx-auto max-w-screen-xl px-4 py-16 sm:px-6 lg:px-8"},M={class:"mx-auto max-w-lg text-center"},B=["src"],S=e("h1",{class:"text-2xl font-bold sm:text-3xl mt-5"},"Login To Khanakhane ho?",-1),j=e("p",{class:"mt-4 text-gray-500"},' Log in and ask fellow users, "Khanakhane Ho?" to connect over meals. ',-1),A={class:"mx-auto mb-0 mt-8 max-w-md space-y-4"},E=e("label",{for:"email",class:"sr-only"},"Number",-1),L={class:"relative"},V=e("span",{class:"absolute inset-y-0 end-0 grid place-content-center px-4"},[e("span",{class:"text-gray-400 font-semibold"},"+977")],-1),F=e("label",{for:"password",class:"sr-only"},"Password",-1),T={class:"relative"},U=e("span",{class:"absolute inset-y-0 end-0 grid place-content-center px-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})])],-1),z={class:"flex items-center justify-between"},$=w({__name:"LoginView",setup(K){let r=x(),h=_(),o=i(""),a=i("");async function m(){try{let n=await h.GetFCMToke();if(n=="")return;console.log(o.value);let t=await b.post("http://localhost:8080/login",{phone_number:`${o.value}`,password:`${a.value}`,fcm:n});if(t.status!=200)throw Error("Something went wrong");await r.setAuth(null,t.data.data.token)&&d.push({name:"dashboard"})}catch{}}return f(async()=>{await r.IsAuth()&&d.push({name:"dashboard"})}),(n,t)=>(v(),g("div",y,[e("div",C,[e("div",M,[e("img",{src:l(k),alt:"",srcset:"",class:"w-full px-2"},null,8,B),S,j]),e("div",A,[e("div",null,[E,e("div",L,[c(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=s=>p(o)?o.value=s:o=s),class:"w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm border",placeholder:"Enter number"},null,512),[[u,l(o)]]),V])]),e("div",null,[F,e("div",T,[c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>p(a)?a.value=s:a=s),type:"password",class:"w-full rounded-lg border border-gray-200 p-4 pe-12 text-sm shadow-sm",placeholder:"Enter password"},null,512),[[u,l(a)]]),U])]),e("div",z,[e("button",{onClick:t[2]||(t[2]=s=>m()),type:"submit",class:"inline-block rounded-lg bg-amber-400 hover:bg-amber-300 px-5 py-3 text-sm font-medium text-black w-full"}," Login ")])])])]))}});export{$ as default};
